(function n(t,r,e){function i(a,o){if(!r[a]){if(!t[a]){var f=typeof require=="function"&&require;if(!o&&f)return f(a,!0);if(u)return u(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[a]={exports:{}};t[a][0].call(c.exports,function(n){var r=t[a][1][n];return i(r?r:n)},c,c.exports,n,t,r,e)}return r[a].exports}var u=typeof require=="function"&&require;for(var a=0;a<e.length;a++)i(e[a]);return i})({1:[function(n,t,r){"use strict";(function(e,i){if(typeof r==="object"){t.exports=i(n("underscore"))}else if(typeof define==="function"&&define.amd){define(["underscore"],i)}else{e.Grammar=i(e._).Grammar}})(this,function(n){var t=function(t){this.rules=t||[];this.endMarker="\0";this.nonterminals=this._getNonterminals();this.nonterminalsHash=n(this.nonterminals).indexBy();this.terminals=this._getTerminals();this.firstSetHash=this.makeFirstSet();this.followSetHash=this.makeFollowSet();this.predictSets=this.makePredictSet()};t.prototype._getNonterminals=function(){return n(this.rules).chain().pluck("left").uniq().value()};t.prototype._getTerminals=function(){var t=this,r=[];n(this.rules).each(function(e){n(e.right).each(function(n){if(t.isTerminal()){r.push(n)}})});return r};t.prototype._initSetHash=function(){var t={};n(this.nonterminals).each(function(n){t[n]=[]});return t};t.prototype.isNonterminal=function(n){return this.nonterminalsHash[n]};t.prototype.isTerminal=function(n){return n&&!this.isNonterminal(n)};t.prototype.getFirstSetHash=function(){return this.firstSetHash};t.prototype.getFollowSetHash=function(){return this.followSetHash};t.prototype.getPredictSets=function(){return this.predictSets};t.prototype.makeFirstSet=function(){var t=this,r=this._initSetHash(),e;do{e=false;n(this.rules).each(function(i){var u=i.left,a=r[u];n(i.right).every(function(e,u){if(t.isNonterminal(e)){a=n.union(a,n(r[e]).compact());var o=i.right[u+1];if(n(r[e]).contains(null)){if(o)return true;a=n.union(a,[null])}}else if(t.isTerminal(e)){a=n.union(a,[e])}else{a=n.union(a,[null])}});if(r[u].length!==a.length){r[u]=a;e=true}})}while(e);return r};t.prototype.makeFollowSet=function(){var t=this,r=this.rules[0].left,e=this._initSetHash(),i;e[r].push(this.endMarker);do{i=false;n(this.rules).each(function(r){n(r.right).each(function(u,a){if(!t.isNonterminal(u))return;var o=r.left,f=e[u],l=n(r.right).rest(a+1);if(l.length){n(l).every(function(r,i){if(t.isNonterminal(r)){f=n.union(f,n(t.firstSetHash[r]).compact());var u=l[i+1];if(n(t.firstSetHash[r]).contains(null)){if(u)return true;f=n.union(f,e[o])}}else{f=n.union(f,[r])}})}else{f=n.union(f,e[o])}if(e[u].length!==f.length){e[u]=f;i=true}})})}while(i);return e};t.prototype.makePredictSet=function(){var t=this,r=[];n(this.rules).each(function(e,i){r.push([]);var u=e.right,a=e.left,o=u[0];if(t.isTerminal(o)){r[i].push(o)}else if(t.isNonterminal(o)){n(e.right).every(function(u,o){if(t.isNonterminal(u)){r[i]=n.union(r[i],n(t.firstSetHash[u]).compact());if(n(t.firstSetHash[u]).contains(null)){if(e.right[o+1])return true;r[i]=n.union(r[i],t.followSetHash[a])}}else{r[i]=n.union(r[i],[u])}})}else{r[i]=n(t.followSetHash[a]).clone()}});return n(r).indexBy(function(n,t){return t+1})};return{Grammar:t}})},{underscore:2}],2:[function(n,t,r){
//     Underscore.js 1.8.3
//     http://underscorejs.org
//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.
(function(){var n=this;var e=n._;var i=Array.prototype,u=Object.prototype,a=Function.prototype;var o=i.push,f=i.slice,l=u.toString,c=u.hasOwnProperty;var s=Array.isArray,p=Object.keys,h=a.bind,v=Object.create;var y=function(){};var d=function(n){if(n instanceof d)return n;if(!(this instanceof d))return new d(n);this._wrapped=n};if(typeof r!=="undefined"){if(typeof t!=="undefined"&&t.exports){r=t.exports=d}r._=d}else{n._=d}d.VERSION="1.8.3";var m=function(n,t,r){if(t===void 0)return n;switch(r==null?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,i){return n.call(t,r,e,i)};case 4:return function(r,e,i,u){return n.call(t,r,e,i,u)}}return function(){return n.apply(t,arguments)}};var g=function(n,t,r){if(n==null)return d.identity;if(d.isFunction(n))return m(n,t,r);if(d.isObject(n))return d.matcher(n);return d.property(n)};d.iteratee=function(n,t){return g(n,t,Infinity)};var w=function(n,t){return function(r){var e=arguments.length;if(e<2||r==null)return r;for(var i=1;i<e;i++){var u=arguments[i],a=n(u),o=a.length;for(var f=0;f<o;f++){var l=a[f];if(!t||r[l]===void 0)r[l]=u[l]}}return r}};var b=function(n){if(!d.isObject(n))return{};if(v)return v(n);y.prototype=n;var t=new y;y.prototype=null;return t};var S=function(n){return function(t){return t==null?void 0:t[n]}};var _=Math.pow(2,53)-1;var x=S("length");var j=function(n){var t=x(n);return typeof t=="number"&&t>=0&&t<=_};d.each=d.forEach=function(n,t,r){t=m(t,r);var e,i;if(j(n)){for(e=0,i=n.length;e<i;e++){t(n[e],e,n)}}else{var u=d.keys(n);for(e=0,i=u.length;e<i;e++){t(n[u[e]],u[e],n)}}return n};d.map=d.collect=function(n,t,r){t=g(t,r);var e=!j(n)&&d.keys(n),i=(e||n).length,u=Array(i);for(var a=0;a<i;a++){var o=e?e[a]:a;u[a]=t(n[o],o,n)}return u};function k(n){function t(t,r,e,i,u,a){for(;u>=0&&u<a;u+=n){var o=i?i[u]:u;e=r(e,t[o],o,t)}return e}return function(r,e,i,u){e=m(e,u,4);var a=!j(r)&&d.keys(r),o=(a||r).length,f=n>0?0:o-1;if(arguments.length<3){i=r[a?a[f]:f];f+=n}return t(r,e,i,a,f,o)}}d.reduce=d.foldl=d.inject=k(1);d.reduceRight=d.foldr=k(-1);d.find=d.detect=function(n,t,r){var e;if(j(n)){e=d.findIndex(n,t,r)}else{e=d.findKey(n,t,r)}if(e!==void 0&&e!==-1)return n[e]};d.filter=d.select=function(n,t,r){var e=[];t=g(t,r);d.each(n,function(n,r,i){if(t(n,r,i))e.push(n)});return e};d.reject=function(n,t,r){return d.filter(n,d.negate(g(t)),r)};d.every=d.all=function(n,t,r){t=g(t,r);var e=!j(n)&&d.keys(n),i=(e||n).length;for(var u=0;u<i;u++){var a=e?e[u]:u;if(!t(n[a],a,n))return false}return true};d.some=d.any=function(n,t,r){t=g(t,r);var e=!j(n)&&d.keys(n),i=(e||n).length;for(var u=0;u<i;u++){var a=e?e[u]:u;if(t(n[a],a,n))return true}return false};d.contains=d.includes=d.include=function(n,t,r,e){if(!j(n))n=d.values(n);if(typeof r!="number"||e)r=0;return d.indexOf(n,t,r)>=0};d.invoke=function(n,t){var r=f.call(arguments,2);var e=d.isFunction(t);return d.map(n,function(n){var i=e?t:n[t];return i==null?i:i.apply(n,r)})};d.pluck=function(n,t){return d.map(n,d.property(t))};d.where=function(n,t){return d.filter(n,d.matcher(t))};d.findWhere=function(n,t){return d.find(n,d.matcher(t))};d.max=function(n,t,r){var e=-Infinity,i=-Infinity,u,a;if(t==null&&n!=null){n=j(n)?n:d.values(n);for(var o=0,f=n.length;o<f;o++){u=n[o];if(u>e){e=u}}}else{t=g(t,r);d.each(n,function(n,r,u){a=t(n,r,u);if(a>i||a===-Infinity&&e===-Infinity){e=n;i=a}})}return e};d.min=function(n,t,r){var e=Infinity,i=Infinity,u,a;if(t==null&&n!=null){n=j(n)?n:d.values(n);for(var o=0,f=n.length;o<f;o++){u=n[o];if(u<e){e=u}}}else{t=g(t,r);d.each(n,function(n,r,u){a=t(n,r,u);if(a<i||a===Infinity&&e===Infinity){e=n;i=a}})}return e};d.shuffle=function(n){var t=j(n)?n:d.values(n);var r=t.length;var e=Array(r);for(var i=0,u;i<r;i++){u=d.random(0,i);if(u!==i)e[i]=e[u];e[u]=t[i]}return e};d.sample=function(n,t,r){if(t==null||r){if(!j(n))n=d.values(n);return n[d.random(n.length-1)]}return d.shuffle(n).slice(0,Math.max(0,t))};d.sortBy=function(n,t,r){t=g(t,r);return d.pluck(d.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria;var e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(r<e||e===void 0)return-1}return n.index-t.index}),"value")};var O=function(n){return function(t,r,e){var i={};r=g(r,e);d.each(t,function(e,u){var a=r(e,u,t);n(i,e,a)});return i}};d.groupBy=O(function(n,t,r){if(d.has(n,r))n[r].push(t);else n[r]=[t]});d.indexBy=O(function(n,t,r){n[r]=t});d.countBy=O(function(n,t,r){if(d.has(n,r))n[r]++;else n[r]=1});d.toArray=function(n){if(!n)return[];if(d.isArray(n))return f.call(n);if(j(n))return d.map(n,d.identity);return d.values(n)};d.size=function(n){if(n==null)return 0;return j(n)?n.length:d.keys(n).length};d.partition=function(n,t,r){t=g(t,r);var e=[],i=[];d.each(n,function(n,r,u){(t(n,r,u)?e:i).push(n)});return[e,i]};d.first=d.head=d.take=function(n,t,r){if(n==null)return void 0;if(t==null||r)return n[0];return d.initial(n,n.length-t)};d.initial=function(n,t,r){return f.call(n,0,Math.max(0,n.length-(t==null||r?1:t)))};d.last=function(n,t,r){if(n==null)return void 0;if(t==null||r)return n[n.length-1];return d.rest(n,Math.max(0,n.length-t))};d.rest=d.tail=d.drop=function(n,t,r){return f.call(n,t==null||r?1:t)};d.compact=function(n){return d.filter(n,d.identity)};var T=function(n,t,r,e){var i=[],u=0;for(var a=e||0,o=x(n);a<o;a++){var f=n[a];if(j(f)&&(d.isArray(f)||d.isArguments(f))){if(!t)f=T(f,t,r);var l=0,c=f.length;i.length+=c;while(l<c){i[u++]=f[l++]}}else if(!r){i[u++]=f}}return i};d.flatten=function(n,t){return T(n,t,false)};d.without=function(n){return d.difference(n,f.call(arguments,1))};d.uniq=d.unique=function(n,t,r,e){if(!d.isBoolean(t)){e=r;r=t;t=false}if(r!=null)r=g(r,e);var i=[];var u=[];for(var a=0,o=x(n);a<o;a++){var f=n[a],l=r?r(f,a,n):f;if(t){if(!a||u!==l)i.push(f);u=l}else if(r){if(!d.contains(u,l)){u.push(l);i.push(f)}}else if(!d.contains(i,f)){i.push(f)}}return i};d.union=function(){return d.uniq(T(arguments,true,true))};d.intersection=function(n){var t=[];var r=arguments.length;for(var e=0,i=x(n);e<i;e++){var u=n[e];if(d.contains(t,u))continue;for(var a=1;a<r;a++){if(!d.contains(arguments[a],u))break}if(a===r)t.push(u)}return t};d.difference=function(n){var t=T(arguments,true,true,1);return d.filter(n,function(n){return!d.contains(t,n)})};d.zip=function(){return d.unzip(arguments)};d.unzip=function(n){var t=n&&d.max(n,x).length||0;var r=Array(t);for(var e=0;e<t;e++){r[e]=d.pluck(n,e)}return r};d.object=function(n,t){var r={};for(var e=0,i=x(n);e<i;e++){if(t){r[n[e]]=t[e]}else{r[n[e][0]]=n[e][1]}}return r};function A(n){return function(t,r,e){r=g(r,e);var i=x(t);var u=n>0?0:i-1;for(;u>=0&&u<i;u+=n){if(r(t[u],u,t))return u}return-1}}d.findIndex=A(1);d.findLastIndex=A(-1);d.sortedIndex=function(n,t,r,e){r=g(r,e,1);var i=r(t);var u=0,a=x(n);while(u<a){var o=Math.floor((u+a)/2);if(r(n[o])<i)u=o+1;else a=o}return u};function H(n,t,r){return function(e,i,u){var a=0,o=x(e);if(typeof u=="number"){if(n>0){a=u>=0?u:Math.max(u+o,a)}else{o=u>=0?Math.min(u+1,o):u+o+1}}else if(r&&u&&o){u=r(e,i);return e[u]===i?u:-1}if(i!==i){u=t(f.call(e,a,o),d.isNaN);return u>=0?u+a:-1}for(u=n>0?a:o-1;u>=0&&u<o;u+=n){if(e[u]===i)return u}return-1}}d.indexOf=H(1,d.findIndex,d.sortedIndex);d.lastIndexOf=H(-1,d.findLastIndex);d.range=function(n,t,r){if(t==null){t=n||0;n=0}r=r||1;var e=Math.max(Math.ceil((t-n)/r),0);var i=Array(e);for(var u=0;u<e;u++,n+=r){i[u]=n}return i};var E=function(n,t,r,e,i){if(!(e instanceof t))return n.apply(r,i);var u=b(n.prototype);var a=n.apply(u,i);if(d.isObject(a))return a;return u};d.bind=function(n,t){if(h&&n.bind===h)return h.apply(n,f.call(arguments,1));if(!d.isFunction(n))throw new TypeError("Bind must be called on a function");var r=f.call(arguments,2);var e=function(){return E(n,e,t,this,r.concat(f.call(arguments)))};return e};d.partial=function(n){var t=f.call(arguments,1);var r=function(){var e=0,i=t.length;var u=Array(i);for(var a=0;a<i;a++){u[a]=t[a]===d?arguments[e++]:t[a]}while(e<arguments.length)u.push(arguments[e++]);return E(n,r,this,this,u)};return r};d.bindAll=function(n){var t,r=arguments.length,e;if(r<=1)throw new Error("bindAll must be passed function names");for(t=1;t<r;t++){e=arguments[t];n[e]=d.bind(n[e],n)}return n};d.memoize=function(n,t){var r=function(e){var i=r.cache;var u=""+(t?t.apply(this,arguments):e);if(!d.has(i,u))i[u]=n.apply(this,arguments);return i[u]};r.cache={};return r};d.delay=function(n,t){var r=f.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)};d.defer=d.partial(d.delay,d,1);d.throttle=function(n,t,r){var e,i,u;var a=null;var o=0;if(!r)r={};var f=function(){o=r.leading===false?0:d.now();a=null;u=n.apply(e,i);if(!a)e=i=null};return function(){var l=d.now();if(!o&&r.leading===false)o=l;var c=t-(l-o);e=this;i=arguments;if(c<=0||c>t){if(a){clearTimeout(a);a=null}o=l;u=n.apply(e,i);if(!a)e=i=null}else if(!a&&r.trailing!==false){a=setTimeout(f,c)}return u}};d.debounce=function(n,t,r){var e,i,u,a,o;var f=function(){var l=d.now()-a;if(l<t&&l>=0){e=setTimeout(f,t-l)}else{e=null;if(!r){o=n.apply(u,i);if(!e)u=i=null}}};return function(){u=this;i=arguments;a=d.now();var l=r&&!e;if(!e)e=setTimeout(f,t);if(l){o=n.apply(u,i);u=i=null}return o}};d.wrap=function(n,t){return d.partial(t,n)};d.negate=function(n){return function(){return!n.apply(this,arguments)}};d.compose=function(){var n=arguments;var t=n.length-1;return function(){var r=t;var e=n[t].apply(this,arguments);while(r--)e=n[r].call(this,e);return e}};d.after=function(n,t){return function(){if(--n<1){return t.apply(this,arguments)}}};d.before=function(n,t){var r;return function(){if(--n>0){r=t.apply(this,arguments)}if(n<=1)t=null;return r}};d.once=d.partial(d.before,2);var N=!{toString:null}.propertyIsEnumerable("toString");var I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function F(n,t){var r=I.length;var e=n.constructor;var i=d.isFunction(e)&&e.prototype||u;var a="constructor";if(d.has(n,a)&&!d.contains(t,a))t.push(a);while(r--){a=I[r];if(a in n&&n[a]!==i[a]&&!d.contains(t,a)){t.push(a)}}}d.keys=function(n){if(!d.isObject(n))return[];if(p)return p(n);var t=[];for(var r in n)if(d.has(n,r))t.push(r);if(N)F(n,t);return t};d.allKeys=function(n){if(!d.isObject(n))return[];var t=[];for(var r in n)t.push(r);if(N)F(n,t);return t};d.values=function(n){var t=d.keys(n);var r=t.length;var e=Array(r);for(var i=0;i<r;i++){e[i]=n[t[i]]}return e};d.mapObject=function(n,t,r){t=g(t,r);var e=d.keys(n),i=e.length,u={},a;for(var o=0;o<i;o++){a=e[o];u[a]=t(n[a],a,n)}return u};d.pairs=function(n){var t=d.keys(n);var r=t.length;var e=Array(r);for(var i=0;i<r;i++){e[i]=[t[i],n[t[i]]]}return e};d.invert=function(n){var t={};var r=d.keys(n);for(var e=0,i=r.length;e<i;e++){t[n[r[e]]]=r[e]}return t};d.functions=d.methods=function(n){var t=[];for(var r in n){if(d.isFunction(n[r]))t.push(r)}return t.sort()};d.extend=w(d.allKeys);d.extendOwn=d.assign=w(d.keys);d.findKey=function(n,t,r){t=g(t,r);var e=d.keys(n),i;for(var u=0,a=e.length;u<a;u++){i=e[u];if(t(n[i],i,n))return i}};d.pick=function(n,t,r){var e={},i=n,u,a;if(i==null)return e;if(d.isFunction(t)){a=d.allKeys(i);u=m(t,r)}else{a=T(arguments,false,false,1);u=function(n,t,r){return t in r};i=Object(i)}for(var o=0,f=a.length;o<f;o++){var l=a[o];var c=i[l];if(u(c,l,i))e[l]=c}return e};d.omit=function(n,t,r){if(d.isFunction(t)){t=d.negate(t)}else{var e=d.map(T(arguments,false,false,1),String);t=function(n,t){return!d.contains(e,t)}}return d.pick(n,t,r)};d.defaults=w(d.allKeys,true);d.create=function(n,t){var r=b(n);if(t)d.extendOwn(r,t);return r};d.clone=function(n){if(!d.isObject(n))return n;return d.isArray(n)?n.slice():d.extend({},n)};d.tap=function(n,t){t(n);return n};d.isMatch=function(n,t){var r=d.keys(t),e=r.length;if(n==null)return!e;var i=Object(n);for(var u=0;u<e;u++){var a=r[u];if(t[a]!==i[a]||!(a in i))return false}return true};var B=function(n,t,r,e){if(n===t)return n!==0||1/n===1/t;if(n==null||t==null)return n===t;if(n instanceof d)n=n._wrapped;if(t instanceof d)t=t._wrapped;var i=l.call(n);if(i!==l.call(t))return false;switch(i){case"[object RegExp]":case"[object String]":return""+n===""+t;case"[object Number]":if(+n!==+n)return+t!==+t;return+n===0?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var u=i==="[object Array]";if(!u){if(typeof n!="object"||typeof t!="object")return false;var a=n.constructor,o=t.constructor;if(a!==o&&!(d.isFunction(a)&&a instanceof a&&d.isFunction(o)&&o instanceof o)&&("constructor"in n&&"constructor"in t)){return false}}r=r||[];e=e||[];var f=r.length;while(f--){if(r[f]===n)return e[f]===t}r.push(n);e.push(t);if(u){f=n.length;if(f!==t.length)return false;while(f--){if(!B(n[f],t[f],r,e))return false}}else{var c=d.keys(n),s;f=c.length;if(d.keys(t).length!==f)return false;while(f--){s=c[f];if(!(d.has(t,s)&&B(n[s],t[s],r,e)))return false}}r.pop();e.pop();return true};d.isEqual=function(n,t){return B(n,t)};d.isEmpty=function(n){if(n==null)return true;if(j(n)&&(d.isArray(n)||d.isString(n)||d.isArguments(n)))return n.length===0;return d.keys(n).length===0};d.isElement=function(n){return!!(n&&n.nodeType===1)};d.isArray=s||function(n){return l.call(n)==="[object Array]"};d.isObject=function(n){var t=typeof n;return t==="function"||t==="object"&&!!n};d.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){d["is"+n]=function(t){return l.call(t)==="[object "+n+"]"}});if(!d.isArguments(arguments)){d.isArguments=function(n){return d.has(n,"callee")}}if(typeof/./!="function"&&typeof Int8Array!="object"){d.isFunction=function(n){return typeof n=="function"||false}}d.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))};d.isNaN=function(n){return d.isNumber(n)&&n!==+n};d.isBoolean=function(n){return n===true||n===false||l.call(n)==="[object Boolean]"};d.isNull=function(n){return n===null};d.isUndefined=function(n){return n===void 0};d.has=function(n,t){return n!=null&&c.call(n,t)};d.noConflict=function(){n._=e;return this};d.identity=function(n){return n};d.constant=function(n){return function(){return n}};d.noop=function(){};d.property=S;d.propertyOf=function(n){return n==null?function(){}:function(t){return n[t]}};d.matcher=d.matches=function(n){n=d.extendOwn({},n);return function(t){return d.isMatch(t,n)}};d.times=function(n,t,r){var e=Array(Math.max(0,n));t=m(t,r,1);for(var i=0;i<n;i++)e[i]=t(i);return e};d.random=function(n,t){if(t==null){t=n;n=0}return n+Math.floor(Math.random()*(t-n+1))};d.now=Date.now||function(){return(new Date).getTime()};var M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var q=d.invert(M);var R=function(n){var t=function(t){return n[t]};var r="(?:"+d.keys(n).join("|")+")";var e=RegExp(r);var i=RegExp(r,"g");return function(n){n=n==null?"":""+n;return e.test(n)?n.replace(i,t):n}};d.escape=R(M);d.unescape=R(q);d.result=function(n,t,r){var e=n==null?void 0:n[t];if(e===void 0){e=r}return d.isFunction(e)?e.call(n):e};var D=0;d.uniqueId=function(n){var t=++D+"";return n?n+t:t};d.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/;var C={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"};var P=/\\|'|\r|\n|\u2028|\u2029/g;var K=function(n){return"\\"+C[n]};d.template=function(n,t,r){if(!t&&r)t=r;t=d.defaults({},t,d.templateSettings);var e=RegExp([(t.escape||L).source,(t.interpolate||L).source,(t.evaluate||L).source].join("|")+"|$","g");var i=0;var u="__p+='";n.replace(e,function(t,r,e,a,o){u+=n.slice(i,o).replace(P,K);i=o+t.length;if(r){u+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"}else if(e){u+="'+\n((__t=("+e+"))==null?'':__t)+\n'"}else if(a){u+="';\n"+a+"\n__p+='"}return t});u+="';\n";if(!t.variable)u="with(obj||{}){\n"+u+"}\n";u="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{var a=new Function(t.variable||"obj","_",u)}catch(n){n.source=u;throw n}var o=function(n){return a.call(this,n,d)};var f=t.variable||"obj";o.source="function("+f+"){\n"+u+"}";return o};d.chain=function(n){var t=d(n);t._chain=true;return t};var z=function(n,t){return n._chain?d(t).chain():t};d.mixin=function(n){d.each(d.functions(n),function(t){var r=d[t]=n[t];d.prototype[t]=function(){var n=[this._wrapped];o.apply(n,arguments);return z(this,r.apply(d,n))}})};d.mixin(d);d.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=i[n];d.prototype[n]=function(){var r=this._wrapped;t.apply(r,arguments);if((n==="shift"||n==="splice")&&r.length===0)delete r[0];return z(this,r)}});d.each(["concat","join","slice"],function(n){var t=i[n];d.prototype[n]=function(){return z(this,t.apply(this._wrapped,arguments))}});d.prototype.value=function(){return this._wrapped};d.prototype.valueOf=d.prototype.toJSON=d.prototype.value;d.prototype.toString=function(){return""+this._wrapped};if(typeof define==="function"&&define.amd){define("underscore",[],function(){return d})}}).call(this)},{}],3:[function(n,t,r){"use strict";var e=n("underscore"),i=n("first-follow").Grammar,u=n("./helpers");var a=document.getElementsByClassName("js-input")[0],o=document.getElementsByClassName("js-button")[0];function f(){var n=document.getElementsByClassName("section_center")[0];if(n){n.classList.remove("section_center")}e(document.querySelectorAll(".section_hidden")).each(function(n){n.classList.remove("section_hidden")})}function l(){var n=a.value.trim().split("\n"),t=u.parseInputRules(n);if(t.length){var r=new i(t);return{firstSetHash:u.prepareSetHashToOutput(r.getFirstSetHash()),followSetHash:u.prepareSetHashToOutput(r.getFollowSetHash()),predictSets:u.prepareSetHashToOutput(r.getPredictSets())}}}o.addEventListener("click",function(){var n=l();if(n){u.moveDataToTable(document.getElementById("first-sets-table"),n.firstSetHash);u.moveDataToTable(document.getElementById("follow-sets-table"),n.followSetHash);u.moveDataToTable(document.getElementById("predict-sets-table"),n.predictSets);f()}})},{"./helpers":4,"first-follow":1,underscore:2}],4:[function(n,t,r){"use strict";var e=n("underscore");e(r).extend(n("./parse"),n("./output"),n("./table"))},{"./output":5,"./parse":6,"./table":7,underscore:2}],5:[function(n,t,r){"use strict";var e=n("underscore");var i=function(n){return e(n).map(function(n){if(n==="\0")return"-|";if(n===null)return"ε";return n})};r.prepareSetHashToOutput=function(n){return e(n).mapObject(i)}},{underscore:2}],6:[function(n,t,r){"use strict";var e=n("underscore");var i="ε",u="^(\\w)\\s*->\\s*([^\\s"+i+"]+|"+i+")$",a=new RegExp(u);r.parseInputRules=function(n){var t=[];e(n).each(function(n){n=n.trim();if(n){var r=n.match(a);if(r&&r[1]&&r[2]){t.push({left:r[1],right:r[2]===i?[null]:r[2].split("")})}else{throw new Error}}});return t}},{underscore:2}],7:[function(n,t,r){"use strict";var e=n("underscore");r.moveDataToTable=function(n,t){var r=n.getElementsByTagName("tbody")[0],i=r.getElementsByTagName("tr");if(i.length){e(i).each(function(){n.deleteRow(1)})}e(t).each(function(n,t){var e=r.insertRow(-1);e.insertCell(0).innerHTML=t;e.insertCell(1).innerHTML=n.join(", ")})}},{underscore:2}]},{},[3]);